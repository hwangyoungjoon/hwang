---
layout: post
title: kakao blind 2020 괄호 변환
category: 알고리즘 문제풀이
permalink: /algorithms/:year/:month/:day/:title/
tags: [algorithms, kakao blind 2020, 재귀알고리즘]
comments: true
---

# 문제
- '(' 와 ')' 로만 이루어진 문자열이 있을 경우, '(' 의 개수와 ')' 의 개수가 같다면 이를 균형잡힌 괄호 문자열이라고 부릅니다.
- 그리고 여기에 '('와 ')'의 괄호의 짝도 모두 맞을 경우에는 이를 올바른 괄호 문자열이라고 부릅니다.
- 예를 들어, "(()))("와 같은 문자열은 균형잡힌 괄호 문자열 이지만 올바른 괄호 문자열은 아닙니다.
- 반면에 "(())()"와 같은 문자열은 균형잡힌 괄호 문자열 이면서 동시에 올바른 괄호 문자열 입니다.
- '(' 와 ')' 로만 이루어진 문자열 w가 균형잡힌 괄호 문자열 이라면 다음과 같은 과정을 통해 올바른 괄호 문자열로 변환할 수 있습니다.

1. 입력이 빈 문자열인 경우, 빈 문자열을 반환합니다. 
2. 문자열 w를 두 "균형잡힌 괄호 문자열" u, v로 분리합니다. 단, u는 "균형잡힌 괄호 문자열"로 더 이상 분리할 수 없어야 하며, v는 빈 문자열이 될 수 있습니다. 
3. 문자열 u가 "올바른 괄호 문자열" 이라면 문자열 v에 대해 1단계부터 다시 수행합니다. 
- 3-1. 수행한 결과 문자열을 u에 이어 붙인 후 반환합니다. 
4. 문자열 u가 "올바른 괄호 문자열"이 아니라면 아래 과정을 수행합니다. 
- 4-1. 빈 문자열에 첫 번째 문자로 '('를 붙입니다. 
- 4-2. 문자열 v에 대해 1단계부터 재귀적으로 수행한 결과 문자열을 이어 붙입니다. 
- 4-3. ')'를 다시 붙입니다. 
- 4-4. u의 첫 번째와 마지막 문자를 제거하고, 나머지 문자열의 괄호 방향을 뒤집어서 뒤에 붙입니다. 
- 4-5. 생성된 문자열을 반환합니다.


<br>

## 아이디어
- 문제가 어려워서 으악이라고 외쳤지만 재귀적이라는 말에서 힌트를 얻었고, 오히려 문제가 어려우면 시키는대로 해보는게 나을 수 있다. 오히려 간단했던 문제 
1. 올바른 괄호와 균형잡힌 괄호로 나뉘고 이 문제를 재귀적으로 계속해서 반복하는 문제이다.
2. 올바른 괄호 함수와 균형잡힌 괄호 함수를 만든다. 
3. 

## 풀이

```python
#균형잡혔는지
def balanced(p):
    num = 0
    temp = []
    for idx, value in enumerate(p):
        if value == ')':
            num -= 1
        if value == '('
            num += 1
        if num == 0:
            return idx

#올바른 괄호문자열인지
def is_valid(p):
    temp = []
    for i in p:
        if i == "("
            temp.append(i)
        else:
            if len(temp) == 0:
                return False
            temp.pop()
    if len(temp) != 0:
        return False

    return True

    
def solution(p):
    answer = ''
    if p == '' or is_valid(p): #빈 문자열이거나 문자열 전체가 올바른 문자열인 경우
        return p
    # 문자열 w를 균형잡힌 괄호 문자열로 분리한다. 
    u, v = p[:balanced(p)+1],p[balanced(p)+1:]
    # 문자열 u가 올바른 괄호 문자열인 경우
    if is_valid(u):
        string = solution(v)
        #수행한 결롸를 u에 이어붙힌다
        return u + string
    #올바른 괄호 문자열이 아닌경우
    
    else:
        #4.1 첫번째 문자열 9
        t ="("
        #4.2 v를 재귀적으로 수행한 결과를 이어붙인다.
        t += solution(v)
        # 4.3
        t += ")"
        #4.4 u의 맨 앞과 뒷문자 제거하고
        u = list(u[1:-1])
        #나머지 문자열의 괄호방향을 뒤집는다.
        for i in range(len(u)):
            if u[i] == '(':
                u[i] = ')'
            elif u[i] == ')':
                u[i] =='('
        t+= "".join(u)

        return t

```
